---
import type {FormData} from "../../models/FormData";

interface Props {
  title: string;
  description: string;
  name: FormData;
  email: FormData;
  message: FormData;
  submitBtn: string;
}

const {title, description, name, email, message, submitBtn} = Astro.props;
---

<form id="contact-form" class="max-w-96 mx-auto">
  <h2 class="text-primary font-bold text-center text-3xl">{title}</h2>
  <p class="text-center text-primary">{description}</p>
  <div class="mb-5">
    <label for="name" class="block mb-2 text-sm font-medium text-gray-900">{name.label}</label>
    <input type="text" id="name" autocomplete="off" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder={name.placeholder} required />
  </div>
  <div class="mb-5">
    <label for="email" class="block mb-2 text-sm font-medium text-gray-900">{email.label}</label>
    <input type="email" id="email" autocomplete="off" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5" placeholder={email.placeholder} required />
  </div>
  <div class="mb-5">
    <label for="message" class="block mb-2 text-sm font-medium text-gray-900">{message.label}</label>
    <textarea id="message" rows="4" autocomplete="off" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-50 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500" placeholder={message.placeholder} />
  </div>
  <button type="submit" class="bg-primary hover:bg-opacity-85 py-2 text-center text-accent font-semibold rounded-lg drop-shadow-md w-full">
    {submitBtn}
  </button>
</form>

<script>
  const form = document.getElementById("contact-form")!;
  const nameInput = document.getElementById("name")!;
  const emailInput = document.getElementById("email")!;
  const messageInput = document.getElementById("message")!;

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    // @ts-ignore
    nameInput.value = "";
    // @ts-ignore
    emailInput.value = "";
    // @ts-ignore
    messageInput.value = "";
  })
</script>